{
  "unpublishedCollection": {
    "name": "JSObject1",
    "pageId": "PutAway",
    "pluginId": "js-plugin",
    "pluginType": "JS",
    "actions": [],
    "archivedActions": [],
    "body": "export default {\n\tmyVar1: [],\n\tmyVar2: {},\n\tHandleUserSites: () => {\n\t\tif(queryUserSites.data.data.getUser.hasRole.length > 0){\n\t\t\treturn queryUserSites.data.data.getUser.hasRole[0].responsibilities\n\t\t}else{\n\t\t\treturn null\n\t\t}\n\t},\n\tHandleMoveCarrierToBinAvailability: () => {\n\t\tif(appsmith.store.queryCarrierID == \"\" || appsmith.store.queryBinId == \"\"){\n\t\t\treturn true\n\t\t}else{\n\t\t\treturn false\n\t\t}\n\t},\n\tHandleMoveItemAvailability: () => {\n\t\tif(appsmith.store.queryMaterialSubLotCode == \"\" || appsmith.store.queryCarrierID == \"\"){\n\t\t\treturn true\n\t\t}else{\n\t\t\treturn false\n\t\t}\n\t},\n\tClearValueAfterMoveCarrierToBin: () => {\n\t\tstoreValue(\"queryCarrierID\",\"\")\n\t\tstoreValue(\"queryCarrierCode\",\"\")\n\t\tstoreValue(\"queryBinId\",\"\")\n\t\tstoreValue(\"queryBinName\",\"\")\n\t},\n\tClearAllValue: () => {\n\t\tstoreValue(\"queryCarrierID\",\"\")\n\t\tstoreValue(\"queryCarrierCode\",\"\")\n\t\tstoreValue(\"queryBinId\",\"\")\n\t\tstoreValue(\"queryBinName\",\"\")\n\t\tstoreValue(\"queryMaterialSubLotCode\",\"\")\n\t},\n\tHandleBarCodeInput: async () => {\n\t\tif(!_.isEmpty(barcodeInput.text)){\n\t\t\tqueryMaterialSublot.run(()=>{\n\t\t\t\tif(queryMaterialSublot.data.data.getMaterialSubLot == null){\n\t\t\t\t\tqueryBin.run(()=>{\n\t\t\t\t\t\tif (queryBin.data.data.queryEquipment.length == 0){\n\t\t\t\t\t\t\tqueryCarrier.run(()=>{\n\t\t\t\t\t\t\t\tif (queryCarrier.data.data.getCarrier == null){\n\t\t\t\t\t\t\t\t\tshowAlert(\"Barcode cannot be found.\",\"error\")\n\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\tstoreValue(\"queryCarrierID\",queryCarrier.data.data.getCarrier.id)\n\t\t\t\t\t\t\t\t\tstoreValue(\"queryCarrierCode\",queryCarrier.data.data.getCarrier.code)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tstoreValue(\"queryBinId\",queryBin.data.data.queryEquipment[0].id)\n\t\t\t\t\t\t\tstoreValue(\"queryBinName\",queryBin.data.data.queryEquipment[0].name)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}else{\n\t\t\t\t\tstoreValue(\"queryMaterialSubLotCode\",queryMaterialSublot.data.data.getMaterialSubLot.code)\n\t\t\t\t\tstoreValue(\"queryMaterialSubLotId\",queryMaterialSublot.data.data.getMaterialSubLot.id)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t},\n\tHandleMoveCarrier: async () => {\n\t\tif(!_.isEmpty(CarrierInput.text)){\n\t\t\tqueryMoveCarrier.run(()=>{\n\t\t\t\tif(queryMoveCarrier.data.data.getCarrier != null){\n\t\t\t\t\tstoreValue(\"queryMoveCarrierCode\",queryMoveCarrier.data.data.getCarrier.code)\n\t\t\t\t\tstoreValue(\"queryMoveCarrierId\",queryMoveCarrier.data.data.getCarrier.id)\n\t\t\t\t\tgetStockOnHandForCarrier.run()\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t},\n\tHandleNewCarrier: async () => {\n\t\tif(!_.isEmpty(NewCarrierInput.text)){\n\t\t\tqueryNewCarrier.run(()=>{\n\t\t\t\tif(queryNewCarrier.data.data.getCarrier != null){\n\t\t\t\t\tstoreValue(\"queryNewCarrierCode\",queryNewCarrier.data.data.getCarrier.code)\n\t\t\t\t\tstoreValue(\"queryNewCarrierId\",queryNewCarrier.data.data.getCarrier.id)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t},\n\tFormatGetStockOnHandByCarrier: () =>{\n\t\tif (getStockOnHandForCarrier.data.data.getStockOnHand != null){\n\n\t\t\tlet lines = getStockOnHandForCarrier.data.data.getStockOnHand\n\t\t\tlet ret = []\n\t\t\tfor(let i = 0; i < lines.length; i++){\n\t\t\t\tlet materialCode = \"\"\n\t\t\t\tif (lines[i].material != null){\n\t\t\t\t\tmaterialCode = lines[i].material.code\n\t\t\t\t}\n\t\t\t\tlet carrierCode = \"\"\n\t\t\t\tif(lines[i].carrier != null){\n\t\t\t\t\tcarrierCode = lines[i].carrier.code\n\t\t\t\t}\n\t\t\t\tlet statusCode = \"\"\n\t\t\t\tif(lines[i].status != null){\n\t\t\t\t\tstatusCode = lines[i].status.code\n\t\t\t\t}\n\t\t\t\tlet storageLocationName = \"\"\n\t\t\t\tif(lines[i].storageLocation != null){\n\t\t\t\t\tstorageLocationName = lines[i].storageLocation.name\n\t\t\t\t}\n\t\t\t\tlet quantity = lines[i].quantity\n\t\t\t\tlet line = {\n\t\t\t\t\t\"materialCode\" : materialCode,\n\t\t\t\t\t\"carrier\": carrierCode,\n\t\t\t\t\t\"status\":statusCode,\n\t\t\t\t\t\"storageLocation\":storageLocationName,\n\t\t\t\t\t\"quantity\":quantity\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tret.push(line)\n\t\t\t}\n\t\t\treturn ret\n\t\t}else{\n\t\t\treturn []\n\t\t}\n\t}\n}",
    "variables": [
      {
        "name": "myVar1",
        "value": []
      },
      {
        "name": "myVar2",
        "value": {}
      }
    ]
  },
  "id": "PutAway_JSObject1",
  "deleted": false,
  "gitSyncId": "6196c1950dfef900f247faaf_62413ee2c99df23699319541"
}